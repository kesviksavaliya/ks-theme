<div class="categories-wrapper">
  <div class="page-width">
    <div class="custom-heading">
      <h2 class="heading">{{ section.settings.section_heading }}</h2>
    </div>
    <div class="categories-inner  categories-slider">
      {% for block in section.blocks %}
        <div class="categories-inner-item">
          <a href="{{ block.settings.url }}">
            <img
              loading="lazy"
              src="{{ block.settings.image | img_url:"master"}}"
              alt="{{ block.settings.heading | escape }}"
            >
            <p>{{ block.settings.heading }}</p>
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "KS Categories Section",
  "settings": [{
    "type": "text",
    "label": "Section Heading",
    "id": "section_heading",
    "default":"Secton Heading",
  }],
  "blocks": [
    {
      "type": "category_block",
      "name": "Category Block",
      "settings": [
       {
          "type": "url",
          "label": "URL",
          "id": "url"
        },
        {
          "type": "image_picker",
          "label": "Image",
          "id": "image"
        },
        {
          "type": "text",
          "label": "Heading",
          "id": "heading",
          "default": "Text",
          "placeholder": "Enter a text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "KS Categories Section"
    }
  ]
}
{% endschema %}

{% stylesheet %}
      .categories-wrapper {
    	margin: 100px 0;
    }
            .categories-inner .categories-inner-item img {
          	width: 100px;
          	height: 100px;
          	object-fit: cover;
          	object-position: center;
          	border-radius: 50px;
              border: 15px;
              margin: 0 auto;
          }
      .categories-inner {
      	display: flex;
      	gap: 20px;
      	text-align: center;
      	justify-content: center;
      	width: 78%;
      	margin: 0 auto;
      }

      .categories-inner .categories-inner-item {
      	width: 14.28%;
      	display: flex;
      	flex-direction: column;
      	align-items: center;
        margin-bottom: 10px;
      }
    .categories-inner-item p{
    transition: all 0.3s;
  }
  .categories-inner-item a:hover p {
  	color: #c19417;
  }
{% endstylesheet %}

<script>
    document.addEventListener('DOMContentLoaded', function () {
      $('.categories-slider').slick({
        dots: true,
        infinite: true,
        speed: 300,
  arrows:false,
        slidesToShow: 7,
        slidesToScroll: 1,
         rtl: document.documentElement.getAttribute("dir") === "rtl", 
        customPaging: function(slider, i) {
          if (i < 2) {
            return '<button class="slick-dot-custom">' + (i + 1) + '</button>';
          } else {
            return ''; // Hide all other dots
          }
        },
        responsive: [
          {
            breakpoint: 1024,
            settings: {
              slidesToShow: 4,
              slidesToScroll: 1,
              dots: true,

            }
          },
          {
            breakpoint: 768,
            settings: {
              slidesToShow: 3,
              slidesToScroll: 1,
              dots: true
            }
          },
          {
            breakpoint: 480,
            settings: {
              slidesToShow: 2,
              slidesToScroll: 1,
              dots: true
            }
          }
        ]
      });
    });
</script>
