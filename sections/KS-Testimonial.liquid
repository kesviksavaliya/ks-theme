<div class="testimonial-wrapper">
  <div class="page-width">
    <div class="testimonial-inner testimonial-slider">
      {% for block in section.blocks %}
        {% if block.type == 'testimonial' %}
          <div class="testimonial-slide-wrapper">
            <div class="testimonial-inner-item">
              <svg class="icon icon-quote" version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44.72 40.17">
                <path d="M12,.7,16.54,4a44.41,44.41,0,0,0-3.06,5.2,39.93,39.93,0,0,0-2.92,7.47,23.42,23.42,0,0,0-.91,8,5.82,5.82,0,0,1,1.56-.46c.43,0,.87-.06,1.3-.06a8.73,8.73,0,0,1,5.66,1.95,7.09,7.09,0,0,1,2.4,5.85,9,9,0,0,1-2.4,6.37,8.22,8.22,0,0,1-6.31,2.6Q6.4,41,3.6,37.23A15.29,15.29,0,0,1,.81,27.87a32.14,32.14,0,0,1,1.3-8.58A50.34,50.34,0,0,1,5.88,9.8,47.68,47.68,0,0,1,12,.7Zm25,0L41.5,4a45.87,45.87,0,0,0-3.06,5.2,39.93,39.93,0,0,0-2.92,7.47,23.42,23.42,0,0,0-.91,8,5.82,5.82,0,0,1,1.56-.46c.43,0,.87-.06,1.3-.06a8.68,8.68,0,0,1,5.65,1.95,7.07,7.07,0,0,1,2.41,5.85,9,9,0,0,1-2.41,6.37,8.18,8.18,0,0,1-6.3,2.6q-5.46.14-8.26-3.64a15.29,15.29,0,0,1-2.79-9.36,32.14,32.14,0,0,1,1.3-8.58A50.34,50.34,0,0,1,30.84,9.8,47.68,47.68,0,0,1,37,.7Z" transform="translate(-0.81 -0.7)"></path>
              </svg>
              <p>{{ block.settings.message }}</p>
              <strong>{{ block.settings.name }}</strong>
              <span>{{ block.settings.designation }}</span>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <div class="logo-slider">
      {% for block in section.blocks %}
        {% if block.type == 'logo' %}
          <div class="logo-slide">
            <img loading="lazy" src="{{ block.settings.logo | img_url: 'medium' }}" alt="Brand Logo">
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "KS Testimonial + Logos",
  "settings": [],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "text",
          "id": "message",
          "label": "Message",
          "default": "This is a sample testimonial message."
        },
        {
          "type": "text",
          "id": "name",
          "label": "Customer Name",
          "default": "John Doe"
        },
        {
          "type": "text",
          "id": "designation",
          "label": "Designation",
          "default": "CEO"
        }
      ]
    },
    {
      "type": "logo",
      "name": "Logo",
      "settings": [
        {
          "type": "image_picker",
          "id": "logo",
          "label": "Brand Logo"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "KS Testimonials + Logos",
      "blocks": [
        { "type": "testimonial" },
        { "type": "testimonial" },
        { "type": "testimonial" },
        { "type": "logo" },
        { "type": "logo" },
        { "type": "logo" },
        { "type": "logo" },
        { "type": "logo" }
      ]
    }
  ]
}
{% endschema %}

{% stylesheet %}
      .testimonial-wrapper {
        background-color: #f5f3ed;
        text-align: center;
      }

      .testimonial-inner {
        padding: 100px 0 20px 0;
        position: relative;
      }

      .testimonial-inner-item {
        width: 70%;
        text-align: center;
        margin: 0 auto;
        padding-bottom: 40px;
      }

      .testimonial-inner-item .icon.icon-quote {
        width: 60px;
        margin: 0 auto 10px auto;
        fill: #c19417;
      }

      .testimonial-inner-item p {
        width: 60%;
        margin: 28px auto;
        font-size: 20px;
        color: #333;
      }

      .testimonial-inner-item strong {
        font-weight: 700;
        text-transform: capitalize;
        display: block;
        font-size: 20px;
      }

      .testimonial-inner-item span {
        font-size: 16px;
        color: #888;
        display: block;
        margin-bottom: 10px;
      }

      .testimonial-slider .slick-dots {
        position: absolute;
        bottom: 5%;
        left: 50%;
        transform: translateX(-50%);
      }

      .slick-dots li {
        margin: 0 4px;
        height: 12px;
        width: 12px;
      }

      .slick-dots li button:before {
        font-size: 12px;
        color: #ccc;
        opacity: 0.7;
      }
.slick-dots li button {
	font-size: 0;
	/* line-height: 0; */
	/* display: block; */
	width: 10px;
	height: 10px;
	padding: 2px;
	cursor: pointer;
	/* color: transparent; */
	border: 0;
	outline: 0;
	/* background: 0 0; */
	/* color: white; */
	border-radius: 50%;
	background-color: #727271;
}
  .slick-dots .slick-active button
 {
   background-color: #c19417;
 }     .slick-dots li.slick-active button:before {
        color: #c19417;
        opacity: 1;
      }

      /* Brand Logo Slider */
  /* Brand Logo Slider (Fixed Layout) */
  .logo-slider {
    padding: 30px 0 60px;
    width: 70%;
  margin: 0 auto;
  }

  .logo-slide {
    padding: 0 15px;
    display: flex !important;
    justify-content: center;
    align-items: center;
  }

  .logo-slide img {
    max-height: 60px;
    width: auto;
    object-fit: contain;
    opacity: 0.8;
    transition: opacity 0.3s ease;
    max-width: 100%;
  }

  .logo-slide img:hover {
    opacity: 1;
  }
{% endstylesheet %}

{% javascript %}
  function initTestimonialSliderWhenReady() {
    if (window.jQuery && typeof jQuery.fn.slick === 'function') {
      jQuery('.testimonial-slider').slick({
        dots: true,
        arrows: false,
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: true,
        autoplaySpeed: 4000,
        adaptiveHeight: true,
         rtl: document.documentElement.getAttribute("dir") === "rtl", 
      });
      jQuery('.logo-slider').slick({
        slidesToShow: 5,
        slidesToScroll: 1,
        arrows: false,
        dots: false,
        autoplay: true,
        autoplaySpeed: 2000,
         rtl: document.documentElement.getAttribute("dir") === "rtl", 
        responsive: [
          {
            breakpoint: 768,
            settings: {
              slidesToShow: 3
            }
          },
          {
            breakpoint: 480,
            settings: {
              slidesToShow: 2
            }
          }
        ]
      });
    } else {
      setTimeout(initTestimonialSliderWhenReady, 100);
    }
  }

  document.addEventListener("DOMContentLoaded", initTestimonialSliderWhenReady);
{% endjavascript %}
